{"version":3,"sources":["../js-src/sam.pro.advertisers.list.js"],"names":[],"mappings":"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","file":"sam.pro.advertisers.list.min.js","sourcesContent":["/**\n * Created by minimus on 26.07.2015.\n */\n(function($) {\n  const path = ajaxurl;\n  const ejLocale = (options.locale.changeLocale) ? options.locale.locale : 'en-US';\n  const localeStrings = options.strings;\n\n  $(document).ready(function() {\n    let lis;\n    const dm = ej.DataManager({\n      url: `${path}?action=list_adverts&sam_pro_nonce=${options.samProNonce}`,\n      requestType: 'json',\n      adaptor: new ej.UrlAdaptor()\n    });\n    const dmChild = ej.DataManager({\n      url: `${path}?action=list_adverts_ads&sam_pro_nonce=${options.samProNonce}`,\n      requestType: 'json',\n      adaptor: new ej.UrlAdaptor()\n    });\n    const grid = $('#grid').ejGrid({\n      dataSource: dm,\n      locale: ejLocale,\n      allowTextWrap: true,\n      allowPaging: true,\n      allowFiltering: true,\n      filterSettings: {filterType: 'menu'},\n      pageSettings: {pageSize: options.itemsPerPage},\n      allowSorting: true,\n      allowSelection: true,\n      selectionType: ej.Grid.SelectionType.Single,\n      selectionSettings: {selectionMode: [ej.Grid.SelectionMode.Row], enableToggle: true},\n      toolbarSettings: {\n        showToolbar: true,\n        customToolbarItems: [\n          'Expand',\n          'Collapse',\n          'Refresh',\n          'Stats',\n          'SendMail'\n        ]\n      },\n      columns: [\n        {field: 'owner', headerText: localeStrings.advertiser, isPrimaryKey: true},\n        {field: 'owner_name', headerText: localeStrings.display}\n      ],\n      actionComplete: function (args) {\n        const $tb = $('#grid_toolbarItems');\n        let li;\n        li = $('#grid_Stats');\n        $tb.ejToolbar('disableItem', li);\n        li = $('#grid_TestPage');\n        $tb.ejToolbar('disableItem', li);\n        li = $('#grid_SendMail');\n        $tb.ejToolbar('disableItem', li);\n      },\n      recordClick: function (args) {\n        const $tb = $('#grid_toolbarItems');\n        let li;\n        const recs = this.getSelectedRecords();\n        const action = (recs.length === 0) ? 'disableItem' : 'enableItem';\n        li = $('#grid_Stats');\n        $tb.ejToolbar(action, li);\n        li = $('#grid_TestPage');\n        $tb.ejToolbar(action, li);\n        li = $('#grid_SendMail');\n        $tb.ejToolbar(action, li);\n      },\n      rowSelected: function (args) {\n        $('#owner').val(args.data.owner);\n        $('#mail_to').val(args.data.owner);\n      },\n      toolbarClick: function (args) {\n        const tbarObj = $(args.target);\n        const rec = this.getSelectedRecords();\n        if (tbarObj.hasClass(\"Expand\"))\n          this.expandAll();\n        else if (tbarObj.hasClass(\"Collapse\"))\n          this.collapseAll();\n        else if (tbarObj.hasClass(\"Refresh\")) {\n          this.refreshContent();\n          $('#owner').val('');\n          $('#mail_to').val('');\n        }\n        else if (tbarObj.hasClass('Stats')) {\n          const owner = $('#owner').val();\n          if ((rec.length !== 0) && ('undefined' !== typeof owner) && (owner !== '')) {\n            document.getElementById(\"stats\").submit();\n          }\n        }\n        else if (tbarObj.hasClass('SendMail')) {\n          const mailTo = $('#mail_to').val();\n          if ((rec.length !== 0) && ('undefined' !== typeof mailTo) && (mailTo !== '')) {\n            document.getElementById(\"send_mail\").submit();\n          }\n        }\n      },\n      create: function (args) {\n        const $toolbar = $('#grid_toolbarItems');\n        lis = $toolbar.find(\"li\");\n        $('.Expand').parent('li').attr('title', localeStrings.expand);\n        $('.Collapse').parent('li').attr('title', localeStrings.collapse);\n        $('.Refresh').parent('li').attr('title', localeStrings.refresh);\n        $('.Stats').parent('li').attr('title', localeStrings.statistics);\n        $('.SendMail').parent('li').attr('title', localeStrings.sendMail);\n      },\n      childGrid: {\n        dataSource: dmChild,\n        locale: ejLocale,\n        queryString: 'owner',\n        allowTextWrap: true,\n        allowSorting: true,\n        allowSelection: true,\n        selectionType: ej.Grid.SelectionType.Single,\n        selectionSettings: {selectionMode: [ej.Grid.SelectionMode.Row], enableToggle: true},\n        columns: [\n          {field: 'owner', isPrimaryKey: true, visible: false},\n          {field: 'aid', headerText: localeStrings.adId, textAlign: ej.TextAlign.Right, width: 100},\n          {field: 'title', headerText: localeStrings.name, allowEditing: false, width: 250},\n          {field: 'description', headerText: localeStrings.desc},\n          {field: 'asize', headerText: localeStrings.size, width: 200},\n          {field: 'status', headerText: localeStrings.status, textAlign: ej.TextAlign.Center, width: 100}\n        ]\n      }\n    }).data('ejGrid');\n  });\n})(jQuery);"]}