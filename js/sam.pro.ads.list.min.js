'use strict';(function(a){var b=options.locale.changeLocale?options.locale.locale:'en-US',c=options.strings,d=options.samProAjaxModerate;a(document).ready(function(){var e,f=ej.DataManager({url:ajaxurl+'?action=load_ads&sam_pro_nonce='+options.samProNonce,removeUrl:ajaxurl+'?action=remove_ad&sam_pro_nonce='+options.samProNonce,requestType:'json',adaptor:new ej.UrlAdaptor}),g=a('#grid').ejGrid({dataSource:f,locale:b,allowTextWrap:!0,allowPaging:!0,allowSorting:!0,allowFiltering:!0,filterSettings:{filterType:'menu'},pageSettings:{pageSize:options.itemsPerPage},allowSelection:!0,selectionSettings:{selectionMode:[ej.Grid.SelectionMode.Row],enableToggle:!0},editSettings:{allowDeleting:!0,showDeleteConfirmDialog:!0},toolbarSettings:{showToolbar:!0,toolbarItems:[ej.Grid.ToolBarItems.Delete],customToolbarItems:[{templateID:'#viewMode'},'Refresh',{templateID:'#NewAd'},'Edit',{templateID:'#ModerateAd'},{templateID:'#UnModerateAd'},{templateID:'#TrashPlace'},{templateID:'#UnTrashPlace'}]},toolbarClick:function toolbarClick(b){var c,f=a(b.target),i=this.getSelectedRecords();if(f.hasClass('Refresh')&&this.refreshContent(),f.hasClass('Edit')){if(0<i.length){var j=i[0].aid;document.location=options.editorUrl+j}}else if(f.hasClass('place-to-trash')||f.hasClass('place-from-trash')){var k=f.hasClass('place-to-trash')?1:0;if(0<i.length){var l=parseInt(i[0].trash,10);c=parseInt(i[0].aid,10),l!==k&&a.post(ajaxurl,{action:'trash_ad',aid:c,trash:k,sam_pro_nonce:options.samProNonce}).done(function(){var a=parseInt(h.getSelectedValue(),10);0===a?g._disabledToolItems.push(e[8]):1===a&&g._disabledToolItems.push(e[7]),g.refreshContent()})}}else if(f.hasClass('ad-moderate')||f.hasClass('ad-unmoderate')){var m=f.hasClass('ad-moderate')?1:0;if(0<i.length){var n=parseInt(i[0].moderated,10);c=parseInt(i[0].aid,10),n!==m&&a.post(d,{action:'moderate_ad',aid:c,mod:m,sam_pro_nonce:options.samProNonce}).done(function(){g.refreshContent()})}}},create:function create(){var b=a('#grid_toolbarItems');e=b.find('li'),a('.place-to-trash').parent('li').attr('title',c.moveToTrash),a('.place-from-trash').parent('li').attr('title',c.restoreFromTrash),a('.ad-moderate').parent('li').attr('title',c.approve),a('.ad-unmoderate').parent('li').attr('title',c.cancelApproval),a('#view-mode').parent('li').attr('title',c.viewMode),a('li[title="NewAd"]').attr('title',c.newAd),a('li[title="Edit"]').attr('title',c.edit),a('.Refresh').parent('li').attr('title',c.refresh)},actionComplete:function actionComplete(b){if('refresh'===b.requestType){var c,d=a('#grid_toolbarItems');c=a('#grid_delete'),d.ejToolbar('disableItem',c),c=a('#grid_Edit'),d.ejToolbar('disableItem',c),c=a('#grid_ModerateAd'),d.ejToolbar('disableItem',c),c=a('#grid_UnModerateAd'),d.ejToolbar('disableItem',c),c=a('#grid_TrashPlace'),d.ejToolbar('disableItem',c),c=a('#grid_UnTrashPlace'),d.ejToolbar('disableItem',c)}},recordClick:function recordClick(){var b,c=a('#grid_toolbarItems'),d=this.getSelectedRecords(),e=0===d.length?'disableItem':'enableItem';b=a('#grid_delete'),c.ejToolbar(e,b),b=a('#grid_Edit'),c.ejToolbar(e,b),b=a('#grid_ModerateAd'),c.ejToolbar(e,b),b=a('#grid_UnModerateAd'),c.ejToolbar(e,b),b=a('#grid_TrashPlace'),c.ejToolbar(e,b),b=a('#grid_UnTrashPlace'),c.ejToolbar(e,b)},columns:[{field:'aid',headerText:c.adId,isPrimaryKey:!0,textAlign:ej.TextAlign.Right,allowSorting:!0,allowEditing:!1,width:100},{field:'title',headerText:c.name,allowSorting:!0,allowEditing:!1,width:250},{field:'description',headerText:c.desc,allowSorting:!0,allowEditing:!1},{field:'asize',headerText:c.size,allowSorting:!0,allowEditing:!1,width:100},{field:'stat',headerText:c.status,textAlign:ej.TextAlign.Center,allowSorting:!1,allowEditing:!1,allowFiltering:!1,width:100},{field:'trash',headerText:'Status',allowEditing:!1,visible:!1}]}).data('ejGrid'),h=a('#view-mode').ejDropDownList({selectedItemIndex:0,change:function change(){var b=parseInt(this.getSelectedValue(),10);10===b?a('#grid').ejGrid('model.query',new ej.Query):a('#grid').ejGrid('model.query',new ej.Query().where('trash',ej.FilterOperators.equal,b,10)),0===b?g._disabledToolItems.push(e[8]):1===b&&g._disabledToolItems.push(e[7]),g.refreshContent(!0)}}).data('ejDropDownList')})})(jQuery);

//# sourceMappingURL=sam.pro.ads.list.min.js.map