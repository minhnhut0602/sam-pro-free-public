'use strict';(function(a){var b=options.locale.changeLocale?options.locale.locale:'en-US',c=options.strings;a(document).ready(function(){var d,e=ej.DataManager({url:ajaxurl+'?action=load_blocks&sam_pro_nonce='+options.samProNonce,removeUrl:ajaxurl+'?action=remove_block&sam_pro_nonce='+options.samProNonce,requestType:'json',adaptor:new ej.UrlAdaptor}),f=a('#grid').ejGrid({dataSource:e,locale:b,allowTextWrap:!0,allowPaging:!0,allowSorting:!0,allowFiltering:!0,filterSettings:{filterType:'menu'},pageSettings:{pageSize:options.itemsPerPage},allowSelection:!0,selectionSettings:{selectionMode:[ej.Grid.SelectionMode.Row],enableToggle:!0},editSettings:{allowDeleting:!0,showDeleteConfirmDialog:!0},toolbarSettings:{showToolbar:!0,toolbarItems:[ej.Grid.ToolBarItems.Delete],customToolbarItems:[{templateID:'#viewMode'},'Refresh',{templateID:'#NewBlock'},'Edit',{templateID:'#TrashBlock'},{templateID:'#UnTrashBlock'}]},toolbarClick:function toolbarClick(b){var c,e=a(b.target),h=this.getSelectedRecords();if(e.hasClass('Refresh')&&this.refreshContent(),e.hasClass('Edit')){if(0<h.length){var i=h[0].bid;document.location=options.editorUrl+i}}else if(e.hasClass('block-to-trash')||e.hasClass('block-from-trash')){var j=e.hasClass('block-to-trash')?1:0;if(0<h.length){var k=parseInt(h[0].trash,10);c=parseInt(h[0].bid,10),k!==j&&a.post(ajaxurl,{action:'trash_block',bid:c,trash:j,sam_pro_nonce:options.samProNonce}).done(function(){var a=parseInt(g.getSelectedValue(),10);0===a?f._disabledToolItems.push(d[6]):1===a&&f._disabledToolItems.push(d[5]),f.refreshContent()})}}},create:function create(){var b=a('#grid_toolbarItems');d=b.find('li'),a('.block-to-trash').parent('li').attr('title',c.moveToTrash),a('.block-from-trash').parent('li').attr('title',c.restoreFromTrash),a('li[title="viewMode"]').attr('title',c.viewMode),a('li[title="NewBlock"]').attr('title',c.newBlock),a('li[title="Edit"]').attr('title',c.edit),a('.Refresh').parent('li').attr('title',c.refresh)},actionComplete:function actionComplete(){var b,c=a('#grid_toolbarItems');b=a('#grid_delete'),c.ejToolbar('disableItem',b),b=a('#grid_Edit'),c.ejToolbar('disableItem',b),b=a('#grid_TrashBlock'),c.ejToolbar('disableItem',b),b=a('#grid_UnTrashBlock'),c.ejToolbar('disableItem',b)},recordClick:function recordClick(){var b,c=a('#grid_toolbarItems'),d=this.getSelectedRecords(),e=0===d.length?'disableItem':'enableItem';b=a('#grid_delete'),c.ejToolbar(e,b),b=a('#grid_Edit'),c.ejToolbar(e,b),b=a('#grid_TrashBlock'),c.ejToolbar(e,b),b=a('#grid_UnTrashBlock'),c.ejToolbar(e,b)},columns:[{field:'bid',headerText:c.bid,isPrimaryKey:!0,textAlign:ej.TextAlign.Right,allowSorting:!0,allowEditing:!1,width:100},{field:'title',headerText:c.name,allowSorting:!0,allowEditing:!1,width:250},{field:'description',headerText:c.desc,allowSorting:!0,allowEditing:!1},{field:'size',headerText:c.size,textAlign:ej.TextAlign.Center,width:100},{field:'stat',headerText:c.status,textAlign:ej.TextAlign.Center,allowSorting:!1,allowEditing:!1,allowFiltering:!1,width:100},{field:'trash',headerText:'Status',allowEditing:!1,visible:!1}]}).data('ejGrid'),g=a('#view-mode').ejDropDownList({selectedItemIndex:0,change:function change(){var b=parseInt(this.getSelectedValue(),10);10===b?a('#grid').ejGrid('model.query',new ej.Query):a('#grid').ejGrid('model.query',new ej.Query().where('trash',ej.FilterOperators.equal,b,10)),0===b?f._disabledToolItems.push(d[6]):1===b&&f._disabledToolItems.push(d[5]),f.refreshContent(!0)}}).data('ejDropDownList')})})(jQuery);

//# sourceMappingURL=sam.pro.blocks.list.min.js.map